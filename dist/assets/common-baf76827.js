import{c as et,r as nt,d as V,N as q,e as ot}from"./index-4717f23d.js";import{I as _t,j as St,k as Ct,l as Et,m as Tt,h as wt,a as rt,_ as Ot,z as At,S as x,L as xt,a5 as it,E as $t,e as kt,n as It,U as X,R as Nt,H as Pt,a6 as jt,a0 as Lt,$ as Z}from"./request-372f441e.js";import{d as at,e as Rt,D as Mt,f as Bt,i as $,o as w,c as k,m as O,a as Q,q as I,j as D,l as N,p as L,k as Ft,M as Dt,v as Ut,r as Ht,z as zt}from"./runtime-core.esm-bundler-0dd628d9.js";const Gt=t=>t.replace(/\B([A-Z])/g,"-$1").toLowerCase(),Kt=at({name:"Notification",components:{AIconHover:_t,IconInfoCircleFill:St,IconCheckCircleFill:Ct,IconExclamationCircleFill:Et,IconCloseCircleFill:Tt,IconClose:wt},props:{type:{type:String,default:"info"},showIcon:{type:Boolean,default:!0},closable:{type:Boolean,default:!1},duration:{type:Number,default:3e3},resetOnUpdate:{type:Boolean,default:!1}},emits:["close"],setup(t,n){const o=rt("notification");let c=0;const v=()=>{n.emit("close")};return Rt(()=>{t.duration>0&&(c=window.setTimeout(v,t.duration))}),Mt(()=>{t.resetOnUpdate&&(c&&(window.clearTimeout(c),c=0),t.duration>0&&(c=window.setTimeout(v,t.duration)))}),Bt(()=>{c&&window.clearTimeout(c)}),{prefixCls:o,handleClose:v}}});function Vt(t,n,o,c,v,r){const i=$("icon-info-circle-fill"),e=$("icon-check-circle-fill"),l=$("icon-exclamation-circle-fill"),d=$("icon-close-circle-fill"),u=$("icon-close"),b=$("a-icon-hover");return w(),k("li",{role:"alert",class:O([t.prefixCls,`${t.prefixCls}-${t.type}`,{[`${t.prefixCls}-closable`]:t.closable}])},[t.showIcon?(w(),k("div",{key:0,class:O(`${t.prefixCls}-left`)},[Q("div",{class:O(`${t.prefixCls}-icon`)},[I(t.$slots,"icon",{},()=>[t.type==="info"?(w(),D(i,{key:0})):t.type==="success"?(w(),D(e,{key:1})):t.type==="warning"?(w(),D(l,{key:2})):t.type==="error"?(w(),D(d,{key:3})):N("v-if",!0)])],2)],2)):N("v-if",!0),Q("div",{class:O(`${t.prefixCls}-right`)},[t.$slots.default?(w(),k("div",{key:0,class:O(`${t.prefixCls}-title`)},[I(t.$slots,"default")],2)):N("v-if",!0),t.$slots.content?(w(),k("div",{key:1,class:O(`${t.prefixCls}-content`)},[I(t.$slots,"content")],2)):N("v-if",!0),t.$slots.footer?(w(),k("div",{key:2,class:O(`${t.prefixCls}-footer`)},[I(t.$slots,"footer")],2)):N("v-if",!0)],2),t.closable?(w(),k("div",{key:1,class:O(`${t.prefixCls}-close-btn`),onClick:n[0]||(n[0]=(...m)=>t.handleClose&&t.handleClose(...m))},[I(t.$slots,"closeIconElement",{},()=>[L(b,null,{default:Ft(()=>[I(t.$slots,"closeIcon",{},()=>[L(u)])]),_:3})])],2)):N("v-if",!0)],2)}var Jt=Ot(Kt,[["render",Vt]]);const Yt=["topLeft","topRight","bottomLeft","bottomRight"];function qt(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Dt(t)}var Xt=at({name:"NotificationList",props:{notifications:{type:Array,default:()=>[]},position:{type:String,default:"topRight",validator:t=>Yt.includes(t)}},emits:["close","afterClose"],setup(t,n){const o=rt("notification-list"),c=Gt(t.position),{zIndex:v}=At("message",{runOnMounted:!0}),r=t.position.includes("Right");return()=>{let i;return L(xt,{class:[o,`${o}-${c}`],style:{zIndex:v.value},name:`slide-${r?"right":"left"}-notification`,onAfterLeave:()=>n.emit("afterClose"),tag:"ul"},qt(i=t.notifications.map(e=>{const l={default:x(e.title),content:x(e.content),icon:x(e.icon),footer:x(e.footer),closeIcon:x(e.closeIcon),closeIconElement:x(e.closeIconElement)};return L(Jt,{key:e.id,type:e.type,style:e.style,class:e.class,duration:e.duration,closable:e.closable,showIcon:e.showIcon,resetOnUpdate:e.resetOnUpdate,onClose:()=>n.emit("close",e.id)},l)}))?i:{default:()=>[i]})}}}),Zt=Object.defineProperty,Qt=Object.defineProperties,Wt=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,tt=(t,n,o)=>n in t?Zt(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,U=(t,n)=>{for(var o in n||(n={}))te.call(n,o)&&tt(t,o,n[o]);if(W)for(var o of W(n))ee.call(n,o)&&tt(t,o,n[o]);return t},st=(t,n)=>Qt(t,Wt(n));class ne{constructor(n,o){this.notificationCount=0,this.add=r=>{var i;this.notificationCount++;const e=(i=r.id)!=null?i:`__arco_notification_${this.notificationCount}`;if(this.notificationIds.has(e))return this.update(e,r);const l=Ut(U({id:e},r));return this.notifications.value.push(l),this.notificationIds.add(e),{close:()=>this.remove(e)}},this.update=(r,i)=>{for(let e=0;e<this.notifications.value.length;e++)if(this.notifications.value[e].id===r){const l=!kt(i.duration);Object.assign(this.notifications.value[e],st(U({},i),{id:r,resetOnUpdate:l}));break}return{close:()=>this.remove(r)}},this.remove=r=>{for(let i=0;i<this.notifications.value.length;i++){const e=this.notifications.value[i];if(e.id===r){It(e.onClose)&&e.onClose(r),this.notifications.value.splice(i,1),this.notificationIds.delete(r);break}}},this.clear=()=>{this.notifications.value.splice(0)},this.destroy=()=>{this.notifications.value.length===0&&this.container&&(X(null,this.container),document.body.removeChild(this.container),this.container=null,A[this.position]=void 0)};const{position:c="topRight"}=n;this.container=Nt("notification"),this.notificationIds=new Set,this.notifications=Ht([]),this.position=c;const v=L(Xt,{notifications:this.notifications.value,position:c,onClose:this.remove,onAfterClose:this.destroy});(o??R._context)&&(v.appContext=o??R._context),X(v,this.container),document.body.appendChild(this.container)}}const A={},j=it.reduce((t,n)=>(t[n]=(o,c)=>{$t(o)&&(o={content:o});const v=U({type:n},o),{position:r="topRight"}=v;return A[r]||(A[r]=new ne(v,c)),A[r].add(v)},t),{});j.remove=t=>{t&&Object.values(A).forEach(n=>n==null?void 0:n.remove(t))};j.clear=t=>{var n;t?(n=A[t])==null||n.clear():Object.values(A).forEach(o=>o==null?void 0:o.clear())};const R=st(U({},j),{install:t=>{const n={clear:j.clear};for(const o of it)n[o]=(c,v=t._context)=>j[o](c,v);t.config.globalProperties.$notification=n},_context:null}),oe=t=>{const n=et();return n.codes&&n.codes.includes(t)||n.codes&&n.codes.includes("*")},re=t=>{const n=et();return n.roles&&n.roles.includes(t)||n.roles&&n.roles.includes("superAdmin")};var K={},ie={get exports(){return K},set exports(t){K=t}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */(function(t,n){(function(c,v){t.exports=v()})(Pt,function(){return function(){var o={686:function(r,i,e){e.d(i,{default:function(){return bt}});var l=e(279),d=e.n(l),u=e(370),b=e.n(u),m=e(817),C=e.n(m);function g(y){try{return document.execCommand(y)}catch{return!1}}var S=function(s){var a=C()(s);return g("cut"),a},_=S;function T(y){var s=document.documentElement.getAttribute("dir")==="rtl",a=document.createElement("textarea");a.style.fontSize="12pt",a.style.border="0",a.style.padding="0",a.style.margin="0",a.style.position="absolute",a.style[s?"right":"left"]="-9999px";var f=window.pageYOffset||document.documentElement.scrollTop;return a.style.top="".concat(f,"px"),a.setAttribute("readonly",""),a.value=y,a}var J=function(s,a){var f=T(s);a.container.appendChild(f);var p=C()(f);return g("copy"),f.remove(),p},ct=function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},f="";return typeof s=="string"?f=J(s,a):s instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(s==null?void 0:s.type)?f=J(s.value,a):(f=C()(s),g("copy")),f},H=ct;function M(y){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?M=function(a){return typeof a}:M=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},M(y)}var lt=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=s.action,f=a===void 0?"copy":a,p=s.container,h=s.target,E=s.text;if(f!=="copy"&&f!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(h!==void 0)if(h&&M(h)==="object"&&h.nodeType===1){if(f==="copy"&&h.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(f==="cut"&&(h.hasAttribute("readonly")||h.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(E)return H(E,{container:p});if(h)return f==="cut"?_(h):H(h,{container:p})},ut=lt;function P(y){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(a){return typeof a}:P=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},P(y)}function ft(y,s){if(!(y instanceof s))throw new TypeError("Cannot call a class as a function")}function Y(y,s){for(var a=0;a<s.length;a++){var f=s[a];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(y,f.key,f)}}function dt(y,s,a){return s&&Y(y.prototype,s),a&&Y(y,a),y}function pt(y,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(s&&s.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),s&&z(y,s)}function z(y,s){return z=Object.setPrototypeOf||function(f,p){return f.__proto__=p,f},z(y,s)}function yt(y){var s=mt();return function(){var f=B(y),p;if(s){var h=B(this).constructor;p=Reflect.construct(f,arguments,h)}else p=f.apply(this,arguments);return ht(this,p)}}function ht(y,s){return s&&(P(s)==="object"||typeof s=="function")?s:vt(y)}function vt(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function mt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function B(y){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},B(y)}function G(y,s){var a="data-clipboard-".concat(y);if(s.hasAttribute(a))return s.getAttribute(a)}var gt=function(y){pt(a,y);var s=yt(a);function a(f,p){var h;return ft(this,a),h=s.call(this),h.resolveOptions(p),h.listenClick(f),h}return dt(a,[{key:"resolveOptions",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof p.action=="function"?p.action:this.defaultAction,this.target=typeof p.target=="function"?p.target:this.defaultTarget,this.text=typeof p.text=="function"?p.text:this.defaultText,this.container=P(p.container)==="object"?p.container:document.body}},{key:"listenClick",value:function(p){var h=this;this.listener=b()(p,"click",function(E){return h.onClick(E)})}},{key:"onClick",value:function(p){var h=p.delegateTarget||p.currentTarget,E=this.action(h)||"copy",F=ut({action:E,container:this.container,target:this.target(h),text:this.text(h)});this.emit(F?"success":"error",{action:E,text:F,trigger:h,clearSelection:function(){h&&h.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(p){return G("action",p)}},{key:"defaultTarget",value:function(p){var h=G("target",p);if(h)return document.querySelector(h)}},{key:"defaultText",value:function(p){return G("text",p)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(p){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return H(p,h)}},{key:"cut",value:function(p){return _(p)}},{key:"isSupported",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],h=typeof p=="string"?[p]:p,E=!!document.queryCommandSupported;return h.forEach(function(F){E=E&&!!document.queryCommandSupported(F)}),E}}]),a}(d()),bt=gt},828:function(r){var i=9;if(typeof Element<"u"&&!Element.prototype.matches){var e=Element.prototype;e.matches=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}function l(d,u){for(;d&&d.nodeType!==i;){if(typeof d.matches=="function"&&d.matches(u))return d;d=d.parentNode}}r.exports=l},438:function(r,i,e){var l=e(828);function d(m,C,g,S,_){var T=b.apply(this,arguments);return m.addEventListener(g,T,_),{destroy:function(){m.removeEventListener(g,T,_)}}}function u(m,C,g,S,_){return typeof m.addEventListener=="function"?d.apply(null,arguments):typeof g=="function"?d.bind(null,document).apply(null,arguments):(typeof m=="string"&&(m=document.querySelectorAll(m)),Array.prototype.map.call(m,function(T){return d(T,C,g,S,_)}))}function b(m,C,g,S){return function(_){_.delegateTarget=l(_.target,C),_.delegateTarget&&S.call(m,_)}}r.exports=u},879:function(r,i){i.node=function(e){return e!==void 0&&e instanceof HTMLElement&&e.nodeType===1},i.nodeList=function(e){var l=Object.prototype.toString.call(e);return e!==void 0&&(l==="[object NodeList]"||l==="[object HTMLCollection]")&&"length"in e&&(e.length===0||i.node(e[0]))},i.string=function(e){return typeof e=="string"||e instanceof String},i.fn=function(e){var l=Object.prototype.toString.call(e);return l==="[object Function]"}},370:function(r,i,e){var l=e(879),d=e(438);function u(g,S,_){if(!g&&!S&&!_)throw new Error("Missing required arguments");if(!l.string(S))throw new TypeError("Second argument must be a String");if(!l.fn(_))throw new TypeError("Third argument must be a Function");if(l.node(g))return b(g,S,_);if(l.nodeList(g))return m(g,S,_);if(l.string(g))return C(g,S,_);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function b(g,S,_){return g.addEventListener(S,_),{destroy:function(){g.removeEventListener(S,_)}}}function m(g,S,_){return Array.prototype.forEach.call(g,function(T){T.addEventListener(S,_)}),{destroy:function(){Array.prototype.forEach.call(g,function(T){T.removeEventListener(S,_)})}}}function C(g,S,_){return d(document.body,g,S,_)}r.exports=u},817:function(r){function i(e){var l;if(e.nodeName==="SELECT")e.focus(),l=e.value;else if(e.nodeName==="INPUT"||e.nodeName==="TEXTAREA"){var d=e.hasAttribute("readonly");d||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),d||e.removeAttribute("readonly"),l=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var u=window.getSelection(),b=document.createRange();b.selectNodeContents(e),u.removeAllRanges(),u.addRange(b),l=u.toString()}return l}r.exports=i},279:function(r){function i(){}i.prototype={on:function(e,l,d){var u=this.e||(this.e={});return(u[e]||(u[e]=[])).push({fn:l,ctx:d}),this},once:function(e,l,d){var u=this;function b(){u.off(e,b),l.apply(d,arguments)}return b._=l,this.on(e,b,d)},emit:function(e){var l=[].slice.call(arguments,1),d=((this.e||(this.e={}))[e]||[]).slice(),u=0,b=d.length;for(u;u<b;u++)d[u].fn.apply(d[u].ctx,l);return this},off:function(e,l){var d=this.e||(this.e={}),u=d[e],b=[];if(u&&l)for(var m=0,C=u.length;m<C;m++)u[m].fn!==l&&u[m].fn._!==l&&b.push(u[m]);return b.length?d[e]=b:delete d[e],this}},r.exports=i,r.exports.TinyEmitter=i}},c={};function v(r){if(c[r])return c[r].exports;var i=c[r]={exports:{}};return o[r](i,i.exports,v),i.exports}return function(){v.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return v.d(i,{a:i}),i}}(),function(){v.d=function(r,i){for(var e in i)v.o(i,e)&&!v.o(r,e)&&Object.defineProperty(r,e,{enumerable:!0,get:i[e]})}}(),function(){v.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)}}(),v(686)}().default})})(ie);const ae=jt(K),se=t=>{const n=(t==null?void 0:t.appendToBody)===void 0?!0:t.appendToBody;return{toClipboard(o,c){return new Promise((v,r)=>{const i=document.createElement("button"),e=new ae(i,{text:()=>o,action:()=>"copy",container:c!==void 0?c:document.body});e.on("success",l=>{e.destroy(),v(l)}),e.on("error",l=>{e.destroy(),r(l)}),n&&document.body.appendChild(i),i.click(),n&&document.body.removeChild(i)})}}},ce=()=>{const t=nt.currentRoute.value,n=V();q.start(),n.removeKeepAlive(t),n.hidden(),zt(()=>{n.addKeepAlive(t),n.display(),q.done()})},le=t=>{const n=ot(),o=V();n.addTag(t),o.addKeepAlive(t)},ue=t=>{const n=ot(),o=V(),c=n.removeTag(t);o.removeKeepAlive(t),nt.push({path:c.path,query:Lt.getRequestParams(c.path)})},fe=(t,n)=>{R.success({title:t,content:n,closable:!0})},de=(t,n)=>{R.info({title:t,content:n,closable:!0})},pe=(t,n)=>{R.error({title:t,content:n,closable:!0})},ye=t=>oe(t),he=t=>re(t),ve=t=>{try{se().toClipboard(t),Z.success("已成功复制到剪切板")}catch{Z.error("复制失败")}};function me(t,n){var o=null;if(Object.prototype.toString.call(t)!=="[object String]")try{o=JSON.stringify(t)}catch(c){console.error("您传递的json数据格式有误，请核对..."),console.error(c),n(c)}else try{t=t.replace(/(\')/g,'"'),o=JSON.stringify(JSON.parse(t))}catch(c){console.error("您传递的json数据格式有误，请核对...."),console.error(c)}return o}const ge=(t,n)=>{var o="",c=0,v="  ",r=me(t,n);if(!r)return r;var i=[],e=null,l=null,d=[];return r=r.replace(/([\{\}])/g,`\r
$1\r
`),r=r.replace(/([\[\]])/g,`\r
$1\r
`),r=r.replace(/(\,)/g,`$1\r
`),r=r.replace(/(\r\n\r\n)/g,`\r
`),r=r.replace(/\r\n\,/g,","),d=r.split(`\r
`),d.forEach(function(u,b){var m=u.match(/\"/g)?u.match(/\"/g).length:0;m%2&&!e&&(e=b),m%2&&e&&e!=b&&(l=b),e&&l&&(i.push({start:e,end:l}),e=null,l=null)}),i.reverse().forEach(function(u,b){var m=d.slice(u.start,u.end+1);d.splice(u.start,u.end+1-u.start,m.join(""))}),r=d.join(`\r
`),r=r.replace(/\:\r\n\{/g,":{"),r=r.replace(/\:\r\n\[/g,":["),d=r.split(`\r
`),d.forEach(function(u,b){var m=0,C=0,g="";for(u.match(/\{$/)||u.match(/\[$/)?C+=1:u.match(/\}$/)||u.match(/\]$/)||u.match(/\},$/)||u.match(/\],$/)?c!==0&&(c-=1):C=0,m=0;m<c;m++)g+=v;o+=g+u+`
`,c+=C}),o.trim()},be=(t,n)=>{const o=document.createElement("script");o.type="text/javascript",o.src=t,o.onload=o.onreadystatechange=function(){(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")&&(n&&n(),o.onload=o.onreadystatechange=null)},document.body.appendChild(o)},_e=(t,n)=>{const o=document.createElement("link");o.type="text/css",o.rel="stylesheet",o.media="all",o.href=t,o.onload=o.onreadystatechange=function(){(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")&&(n&&n(),o.onload=o.onreadystatechange=null)},document.body.appendChild(o)},Se=t=>{const n=document.getElementsByTagName("head")[0],o=document.getElementById("mineadmin-global-css");o&&n.removeChild(o);const c=document.createElement("style");c.rel="stylesheet",c.id="mineadmin-global-css";try{c.appendChild(document.createTextNode(t))}catch{c.styleSheet.cssText=t}n.appendChild(c)},Ce=function(t){const n=document.getElementsByTagName("body")[0],o=document.getElementById("mineadmin-global-functions");o&&n.removeChild(o);const c=document.createElement("script");c.id="mineadmin-global-functions",c.type="text/javascript",c.innerHTML=t,n.appendChild(c)},Ae=Object.freeze(Object.defineProperty({__proto__:null,addTag:le,auth:ye,closeTag:ue,copy:ve,error:pe,formatJson:ge,info:de,insertGlobalCssToHead:Se,insertGlobalFunctionsToHtml:Ce,loadCss:_e,loadScript:be,refreshTag:ce,role:he,success:fe},Symbol.toStringTag,{value:"Module"}));export{R as N,oe as a,le as b,Ae as c,ue as d,ce as e,ge as f,ve as g,ye as h,de as i,re as r,se as u};
