import{d as t}from"./dict-895e2bfe.js";import T from"./dataList-462c0283.js";import{$ as b}from"./request-7ebe3d6d.js";import{r as _,b as S,v as f,i as c,o as l,c as h,p as a,C as A,S as y,k as s,s as k,j as B,u as v}from"./runtime-core.esm-bundler-0dd628d9.js";const L={class:"ma-content-block lg:flex justify-between pt-4 pl-2 pr-2 pb-2"},$={key:1},j={name:"system:dict"},O=Object.assign(j,{setup(V){const i=_(),r=_();let u=S(()=>i.value?i.value.isRecovery:!1);const w=async(n,m)=>{const o=await t.changeStatus({id:m,status:n});o.success&&b.success(o.message)},p=async n=>{r.value.open(n)},g=f({api:t.getTypeList,recycleApi:t.getRecycleTypeList,showIndex:!1,pageLayout:"fixed",rowSelection:{showCheckedAll:!0},operationColumn:!0,operationWidth:240,add:{show:!0,api:t.save,auth:["system:dict:save"]},edit:{show:!0,api:t.update,auth:["system:dict:update"]},delete:{show:!0,api:t.deletes,auth:["system:dict:delete"],realApi:t.realDelete,realAuth:["system:dict:realDeletes"]},recovery:{show:!0,api:t.recoverys,auth:["system:dict:recovery"]}}),x=f([{title:"ID",dataIndex:"id",addDisplay:!1,editDisplay:!1,width:50,hide:!0},{title:"字典名称",dataIndex:"name",search:!0,width:220,commonRules:[{required:!0,message:"字典名称必填"}]},{title:"字典标识",dataIndex:"code",search:!0,width:260,commonRules:[{required:!0,message:"字典标识必填"}]},{title:"状态",dataIndex:"status",search:!0,formType:"radio",dict:{name:"data_status",props:{label:"title",value:"key"}},addDefaultValue:"1",width:180},{title:"备注",dataIndex:"remark",hide:!0,formType:"textarea"},{title:"创建时间",dataIndex:"created_at",addDisplay:!1,editDisplay:!1,search:!0,formType:"range",width:180}]);return(n,m)=>{const o=c("a-link"),C=c("a-tooltip"),D=c("a-switch"),I=c("icon-list"),R=c("ma-crud");return l(),h("div",L,[a(R,{options:g,columns:x,ref_key:"crudRef",ref:i},A({code:s(({record:e})=>[y(u)?(l(),h("span",$,v(e.code),1)):(l(),B(C,{key:0,content:"点击查看字典数据"},{default:s(()=>[a(o,{onClick:d=>p(e)},{default:s(()=>[k(v(e.code),1)]),_:2},1032,["onClick"])]),_:2},1024))]),status:s(({record:e})=>[a(D,{"checked-value":1,"unchecked-value":"2",onChange:d=>w(d,e.id),"default-checked":e.status==1},null,8,["onChange","default-checked"])]),_:2},[y(u)?void 0:{name:"operationBeforeExtend",fn:s(({record:e})=>[a(o,{onClick:d=>p(e)},{default:s(()=>[a(I),k(" 字典数据")]),_:2},1032,["onClick"])]),key:"0"}]),1032,["options","columns"]),a(T,{ref_key:"datalist",ref:r},null,512)])}}});export{O as default};
