import{_ as b}from"./logo-a60c622a.js";import{b as A,i as g,a as V,f as I}from"./index-4717f23d.js";import{d as E}from"./doc-fd9086fd.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import{r as m,i as s,o as k,c as q,a as u,p as a,k as p,s as w,n as C,S as D,z as T,a_ as z,aY as B}from"./runtime-core.esm-bundler-0dd628d9.js";import"./request-372f441e.js";const N=r=>(z("data-v-f74fa28f"),r=r(),B(),r),j={class:"auth-panel"},U=N(()=>u("div",{class:"flex text-2xl justify-center mt-5 title"},[u("img",{src:b,width:"56",class:"mr-2"}),u("div",{class:"mt-0.5"},"Api Document")],-1)),L={__name:"auth",setup(r){const f=A(),c=g(),v=V(),l=I(),t=m({app_id:"",app_secret:""}),i=m(),h=({values:o,errors:e})=>{if(e)return!1;i.value.validate().then(()=>{d(o)})},d=o=>{E.login(o).then(e=>{e.success&&e.code==200&&(c.appId=o.app_id,c.appSecret=o.app_secret,c.auth=!0,T(()=>{v.push({name:"interfaceList"})}))})};return l.query.app_id&&l.query.app_secret&&(t.value.app_id=l.query.app_id,t.value.app_secret=l.query.app_secret,d(t.value)),(o,e)=>{const y=s("a-input"),n=s("a-form-item"),S=s("a-input-password"),P=s("a-button"),x=s("a-form");return k(),q("div",{class:"auth-container flex justify-center items-center",style:C(`background-color: ${D(f).mode=="light"?"#ebedf1":"#242424"}`)},[u("div",j,[U,a(x,{model:t.value,layout:"vertical",class:"mt-3 p-5",onSubmit:h,ref_key:"formRef",ref:i},{default:p(()=>[a(n,{label:"APP ID",field:"app_id",rules:[{required:!0,message:"APP ID必填"}]},{default:p(()=>[a(y,{modelValue:t.value.app_id,"onUpdate:modelValue":e[0]||(e[0]=_=>t.value.app_id=_),placeholder:"请输入 APP ID"},null,8,["modelValue"])]),_:1}),a(n,{label:"APP SECRET",field:"app_secret",rules:[{required:!0,message:"APP SECRET必填"}]},{default:p(()=>[a(S,{modelValue:t.value.app_secret,"onUpdate:modelValue":e[1]||(e[1]=_=>t.value.app_secret=_),placeholder:"请输入 APP SECRET"},null,8,["modelValue"])]),_:1}),a(n,{class:"mt-2"},{default:p(()=>[a(P,{long:"",type:"primary",size:"large","html-type":"submit"},{default:p(()=>[w("登录文档")]),_:1})]),_:1})]),_:1},8,["model"])])],4)}}},K=R(L,[["__scopeId","data-v-f74fa28f"]]);export{K as default};
