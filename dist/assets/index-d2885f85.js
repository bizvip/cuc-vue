import{a2 as t}from"./request-7ebe3d6d.js";import{r as f,v as l,i as n,o as _,c as g,p as u,k as i}from"./runtime-core.esm-bundler-0dd628d9.js";const a={getPageList(e={}){return t({url:"system/notice/index",method:"get",params:e})},getRecyclePageList(e={}){return t({url:"system/notice/recycle",method:"get",params:e})},save(e={}){return t({url:"system/notice/save",method:"post",data:e})},read(e={}){return t({url:"system/notice/read",method:"post",data:e})},deletes(e){return t({url:"system/notice/delete",method:"delete",data:e})},recoverys(e){return t({url:"system/notice/recovery",method:"put",data:e})},realDeletes(e){return t({url:"system/notice/realDelete",method:"delete",data:e})},update(e,r={}){return t({url:"system/notice/update/"+e,method:"put",data:r})}},v={class:"ma-content-block lg:flex justify-between pt-4 pl-2 pr-2 pb-2"},w={name:"system:post"},b=Object.assign(w,{setup(e){const r=f(),c=l({api:a.getPageList,recycleApi:a.getRecyclePageList,showIndex:!1,searchColNumber:3,pageLayout:"fixed",rowSelection:{showCheckedAll:!0},operationColumn:!0,operationWidth:160,add:{show:!0,api:a.save,auth:["system:notice:save"]},edit:{show:!0,api:a.update,auth:["system:notice:update"]},delete:{show:!0,api:a.deletes,auth:["system:notice:delete"],realApi:a.realDeletes,realAuth:["system:notice:realDeletes"]},recovery:{show:!0,api:a.recoverys,auth:["system:notice:recovery"]},formOption:{width:800}}),m=l([{title:"ID",dataIndex:"id",addDisplay:!1,editDisplay:!1,width:50,hide:!0},{title:"公告标题",dataIndex:"title",search:!0,width:500,commonRules:[{required:!0,message:"公告标题必填"}]},{title:"公告类型",dataIndex:"type",search:!0,width:180,commonRules:[{required:!0,message:"公告类型必选"}],formType:"radio",dict:{name:"backend_notice_type",props:{label:"title",value:"key"},translation:!0},addDefaultValue:1},{title:"接收用户",dataIndex:"users",formType:"user-select",editDisplay:!1,hide:!0,formExtra:"如不选择，默认将为所有用户发送"},{title:"公告内容",dataIndex:"content",formType:"editor",hide:!0,commonRules:[{required:!0,message:"公告内容必填"}]},{title:"备注",dataIndex:"remark",hide:!0,formType:"textarea"},{title:"创建时间",dataIndex:"created_at",addDisplay:!1,editDisplay:!1,search:!0,formType:"range",width:180}]);return(d,x)=>{const p=n("a-input-number"),h=n("a-switch"),y=n("ma-crud");return _(),g("div",v,[u(y,{options:c,columns:m,ref_key:"crudRef",ref:r},{sort:i(({record:s})=>[u(p,{"default-value":s.sort,mode:"button",onChange:o=>d.changeSort(o,s.id),min:0,max:1e3},null,8,["default-value","onChange"])]),status:i(({record:s})=>[u(h,{"checked-value":1,"unchecked-value":"2",onChange:o=>d.changeStatus(o,s.id),"default-checked":s.status==1},null,8,["onChange","default-checked"])]),_:1},8,["options","columns"])])}}});export{b as default};
