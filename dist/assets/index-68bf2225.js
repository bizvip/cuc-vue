import{m as B}from"./monitor-ddcd599b.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";import{r,i as c,o as s,j as h,k as a,c as p,p as e,s as t,u as l,a as j,l as g}from"./runtime-core.esm-bundler-0dd628d9.js";import"./request-7ebe3d6d.js";const I={key:0,class:"ma-content-block lg:flex p-4"},N={key:1,class:"flex justify-between w-full redis-info mt-3"},V={class:"echarts hidden lg:block"},G={key:1,class:"ma-content-block lg:flex p-4 mt-3"},O={key:1,class:"flex justify-between w-full redis-info mt-3"},S={class:"echarts hidden lg:block"},U={key:2,class:"ma-content-block lg:flex p-4 mt-3"},A={key:1,class:"flex justify-between w-full redis-info mt-3"},D={name:"system:monitor:server"},E=Object.assign(D,{setup(M){const x=r({}),P=r({}),u=r({}),i=r({}),n=r({}),_=r({}),m=r(!0);return(async()=>{var w,d,f,v;m.value=!0;const b=await B.getServerInfo();u.value=(w=b.data)==null?void 0:w.cpu,i.value=(d=b.data)==null?void 0:d.memory,n.value=(f=b.data)==null?void 0:f.phpenv,_.value=(v=b.data)==null?void 0:v.disk,x.value={tooltip:{formatter:"{b} : {c}%"},series:[{name:"CPU使用率",type:"gauge",progress:{show:!0},detail:{valueAnimation:!0,formatter:"{value}"},data:[{value:u.value.usage,name:"CPU使用率"}]}]},P.value={tooltip:{formatter:"{b} : {c}%"},series:[{name:"内存使用率",type:"gauge",progress:{show:!0},detail:{valueAnimation:!0,formatter:"{value}"},data:[{value:i.value.rate,name:"内存使用率"}]}]},m.value=!1})(),(b,w)=>{const d=c("a-skeleton-line"),f=c("a-space"),v=c("a-skeleton"),o=c("a-descriptions-item"),y=c("a-descriptions"),C=c("ma-chart"),k=c("a-divider"),z=c("a-layout-content");return s(),h(z,null,{default:a(()=>[u.value?(s(),p("div",I,[m.value?(s(),h(v,{key:0,animation:"",class:"w-full"},{default:a(()=>[e(f,{direction:"vertical",class:"w-full",size:"large"},{default:a(()=>[e(d,{rows:5})]),_:1})]),_:1})):(s(),p("div",N,[e(y,{column:1,size:"large",bordered:"",title:"CPU信息",class:"lg:w-9/12 w-full"},{default:a(()=>[e(o,{label:"型号"},{default:a(()=>[t(l(u.value.name),1)]),_:1}),e(o,{label:"核心数"},{default:a(()=>[t(l(u.value.cores),1)]),_:1}),e(o,{label:"缓存"},{default:a(()=>[t(l(u.value.cache),1)]),_:1}),e(o,{label:"使用率"},{default:a(()=>[t(l(u.value.usage)+"%",1)]),_:1}),e(o,{label:"空闲率"},{default:a(()=>[t(l(u.value.free)+"%",1)]),_:1})]),_:1}),j("div",V,[e(C,{options:x.value,width:"350px",height:"350px"},null,8,["options"])])]))])):g("",!0),i.value?(s(),p("div",G,[m.value?(s(),h(v,{key:0,animation:"",class:"w-full"},{default:a(()=>[e(f,{direction:"vertical",class:"w-full",size:"large"},{default:a(()=>[e(d,{rows:5})]),_:1})]),_:1})):(s(),p("div",O,[e(y,{column:1,size:"large",bordered:"",title:"内存信息",class:"lg:w-9/12 w-full"},{default:a(()=>[e(o,{label:"总内存"},{default:a(()=>[t(l(i.value.total)+"G",1)]),_:1}),e(o,{label:"已使用内存"},{default:a(()=>[t(l(i.value.usage)+"G",1)]),_:1}),e(o,{label:"PHP使用内存"},{default:a(()=>[t(l(i.value.php)+"M",1)]),_:1}),e(o,{label:"空闲内存"},{default:a(()=>[t(l(i.value.free)+"G",1)]),_:1}),e(o,{label:"使用率"},{default:a(()=>[t(l(i.value.rate)+"%",1)]),_:1})]),_:1}),j("div",S,[e(C,{options:P.value,width:"350px",height:"350px"},null,8,["options"])])]))])):g("",!0),n.value?(s(),p("div",U,[m.value?(s(),h(v,{key:0,animation:"",class:"w-full"},{default:a(()=>[e(f,{direction:"vertical",class:"w-full",size:"large"},{default:a(()=>[e(d,{rows:5})]),_:1})]),_:1})):(s(),p("div",A,[e(y,{column:2,size:"large",bordered:"",title:"PHP及环境信息",class:"w-full"},{default:a(()=>[e(o,{label:"操作系统"},{default:a(()=>[t(l(n.value.os),1)]),_:1}),e(o,{label:"PHP"},{default:a(()=>[t(l(n.value.php_version),1)]),_:1}),e(o,{label:"Swoole"},{default:a(()=>[t(l(n.value.swoole_version),1)]),_:1}),e(o,{label:"Hyperf"},{default:a(()=>[t(l(n.value.hyperf_version),1)]),_:1}),e(o,{label:"渠道管理中心版本"},{default:a(()=>[t(" 1.0.0 ")]),_:1}),e(o,{label:"系统物理路径"},{default:a(()=>[t(l(n.value.project_path),1)]),_:1}),e(o,{label:"系统启动时间"},{default:a(()=>[t(l(n.value.start_time),1)]),_:1}),e(o,{label:"系统运行时间"},{default:a(()=>[t(l(n.value.run_time),1)]),_:1}),_.value?(s(),h(o,{key:0,label:"磁盘信息"},{default:a(()=>[t(" 总空间："+l(_.value.total)+" ",1),e(k,{direction:"vertical"}),t(" 已使用："+l(_.value.usage)+" ",1),e(k,{direction:"vertical"}),t(" 已剩余："+l(_.value.free)+" ",1),e(k,{direction:"vertical"}),t(" 使用率："+l(_.value.rate),1)]),_:1})):g("",!0)]),_:1})]))])):g("",!0)]),_:1})}}}),L=H(E,[["__scopeId","data-v-55a71901"]]);export{L as default};
