import{_ as j}from"./logo-a60c622a.js";import{v as R}from"./index-ae48b895.js";import{a as E,f as F,c as T}from"./index-4717f23d.js";import{a2 as A}from"./request-372f441e.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";import{r as y,v as L,c as Y,a,u as d,p as e,k as o,F as Z,i as t,o as G,s as w,a_ as H,aY as J}from"./runtime-core.esm-bundler-0dd628d9.js";import"./vue-i18n.cjs-ef3fa138.js";const m=c=>(H("data-v-fd0d46e0"),c=c(),J(),c),K=m(()=>a("div",{id:"background",class:"fixed"},null,-1)),M=m(()=>a("div",{class:"bg-backdrop-layout"},null,-1)),O={class:"login-container"},P={class:"login-width md:w-10/12 w-11/12 mx-auto flex justify-between h-full items-center"},Q={class:"w-6/12 mx-auto left-panel rounded-l pl-5 pr-5 hidden md:block"},W={class:"logo"},X=m(()=>a("img",{src:j,width:"45"},null,-1)),ee={class:"slogan flex justify-end"},oe={class:"md:w-6/12 w-11/12 md:rounded-r mx-auto pl-5 pr-5 pb-10"},se={class:"mt-10 text-3xl pb-0 mb-10"},te={class:"flex w-3/4 pt-2 mx-auto items-stretch justify-around"},ae={__name:"login",setup(c){A({url:"system/getBingBackgroundImage",timeout:1e4,method:"get"}).then(s=>{document.getElementById("background").style.backgroundImage=`url(${s.data.url})`});const v=E(),p=F(),f=y(null),r=y(!1),l=L({username:"admin",password:"qwe123qwe",code:""}),b=T(),q=p.query.redirect?p.query.redirect:"/",V=async({values:s,errors:n})=>{if(!r.value){if(r.value=!0,f.value.checkResult(l.code)&&!n){if(!await b.login(l)){r.value=!1;return}v.push(q)}r.value=!1}};return(s,n)=>{const g=t("icon-user"),h=t("a-input"),u=t("a-form-item"),k=t("icon-lock"),$=t("a-input-password"),x=t("icon-safe"),S=t("a-button"),B=t("a-divider"),I=t("icon-wechat"),_=t("a-avatar"),N=t("icon-alipay-circle"),z=t("icon-qq"),C=t("icon-weibo"),U=t("a-form");return G(),Y(Z,null,[K,M,a("div",O,[a("div",P,[a("div",Q,[a("div",W,[X,a("span",null,d(s.$title),1)]),a("div",ee,[a("span",null,"---- "+d(s.$t("sys.login.slogan")),1)])]),a("div",oe,[a("h2",se,d(s.$t("sys.login.title")),1),e(U,{model:l,onSubmit:V},{default:o(()=>[e(u,{field:"username","hide-label":!0,rules:[{required:!0,message:s.$t("sys.login.usernameNotice")}]},{default:o(()=>[e(h,{modelValue:l.username,"onUpdate:modelValue":n[0]||(n[0]=i=>l.username=i),class:"w-full",size:"large",placeholder:s.$t("sys.login.username"),"allow-clear":""},{prefix:o(()=>[e(g)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),e(u,{field:"password","hide-label":!0,rules:[{required:!0,message:s.$t("sys.login.passwordNotice")}]},{default:o(()=>[e($,{modelValue:l.password,"onUpdate:modelValue":n[1]||(n[1]=i=>l.password=i),placeholder:s.$t("sys.login.password"),size:"large","allow-clear":""},{prefix:o(()=>[e(k)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),e(u,{field:"code","hide-label":!0,rules:[{required:!0,match:/^[a-zA-Z0-9]{4}$/,message:s.$t("sys.login.verifyCodeNotice")}]},{default:o(()=>[e(h,{modelValue:l.code,"onUpdate:modelValue":n[2]||(n[2]=i=>l.code=i),placeholder:s.$t("sys.login.verifyCode"),size:"large","allow-clear":""},{prefix:o(()=>[e(x)]),append:o(()=>[e(R,{ref_key:"Verify",ref:f},null,512)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),e(u,{"hide-label":!0,class:"mt-5"},{default:o(()=>[e(S,{"html-type":"submit",type:"primary",long:"",size:"large",loading:r.value},{default:o(()=>[w(d(s.$t("sys.login.loginBtn")),1)]),_:1},8,["loading"])]),_:1}),e(B,{orientation:"center"},{default:o(()=>[w(d(s.$t("sys.login.otherLoginType")),1)]),_:1}),a("div",te,[e(_,{class:"other-login wechat"},{default:o(()=>[e(I)]),_:1}),e(_,{class:"other-login alipay"},{default:o(()=>[e(N)]),_:1}),e(_,{class:"other-login qq"},{default:o(()=>[e(z)]),_:1}),e(_,{class:"other-login weibo"},{default:o(()=>[e(C)]),_:1})])]),_:1},8,["model"])])])])],64)}}},_e=D(ae,[["__scopeId","data-v-fd0d46e0"]]);export{_e as default};
